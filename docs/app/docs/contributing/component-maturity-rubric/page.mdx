import componentMaturityRubricMetadata from "./seo"

export const metadata = componentMaturityRubricMetadata

# Component Maturity Rubric

This rubric defines the standards for component readiness, documentation depth, and test coverage expectations in Rad UI. Use this guide to assess component maturity and identify areas for improvement.

## Overview

Components in Rad UI progress through maturity levels from **Experimental** to **Production**. Each level has specific requirements for component readiness, documentation, and testing. This ensures consistent quality and maintainability across the library.

## Maturity Levels

### üß™ Experimental
Components in early development or exploration phase. Suitable for internal testing and feedback gathering.

### üîÑ Beta
Components that are feature-complete but may have known limitations or require additional real-world usage validation.

### ‚úÖ Production
Components that are stable, well-documented, thoroughly tested, and ready for production use.

---

## Component Readiness

### Experimental

**Requirements:**
- ‚úÖ Basic functionality implemented
- ‚úÖ TypeScript types defined (may be incomplete)
- ‚úÖ Component exports correctly
- ‚ö†Ô∏è API may change without notice
- ‚ö†Ô∏è Known bugs or limitations documented

**Acceptable:**
- Breaking changes between versions
- Missing edge case handling
- Incomplete prop validation
- Performance optimizations pending

### Beta

**Requirements:**
- ‚úÖ All core functionality implemented
- ‚úÖ TypeScript types complete and accurate
- ‚úÖ Props API stable (changes require deprecation notice)
- ‚úÖ Error handling for common edge cases
- ‚úÖ SSR compatibility verified
- ‚úÖ No critical bugs or accessibility violations
- ‚ö†Ô∏è Minor API refinements may occur

**Acceptable:**
- Some advanced features may be missing
- Performance optimizations in progress
- Limited customization options

### Production

**Requirements:**
- ‚úÖ All planned features implemented
- ‚úÖ Complete TypeScript types with JSDoc comments
- ‚úÖ Stable API (breaking changes require major version bump)
- ‚úÖ Comprehensive error handling
- ‚úÖ SSR and hydration compatibility verified
- ‚úÖ Performance optimized (no unnecessary re-renders, efficient DOM updates)
- ‚úÖ No known bugs or accessibility violations
- ‚úÖ Proper prop validation and helpful error messages
- ‚úÖ Support for controlled and uncontrolled usage patterns where applicable

**Not Acceptable:**
- Breaking changes without deprecation path
- Critical bugs or accessibility issues
- Missing TypeScript types
- Performance regressions

---

## Documentation Depth

### Experimental

**Minimum Requirements:**
- ‚úÖ Component page exists in documentation
- ‚úÖ Basic description of component purpose
- ‚úÖ Simple usage example (Component Hero)
- ‚úÖ Basic API table with core props

**Optional:**
- Variant examples
- Advanced usage patterns
- Migration guides

### Beta

**Minimum Requirements:**
- ‚úÖ All Experimental requirements
- ‚úÖ Complete API documentation table for all sub-components and props
- ‚úÖ Component anatomy/structure diagram
- ‚úÖ At least 2-3 usage examples demonstrating different patterns
- ‚úÖ Feature list highlighting key capabilities
- ‚úÖ TypeScript examples in code snippets
- ‚úÖ Common use cases documented

**Optional:**
- Advanced composition patterns
- Performance considerations
- Design system integration examples

### Production

**Minimum Requirements:**
- ‚úÖ All Beta requirements
- ‚úÖ Comprehensive API documentation with:
  - Complete prop descriptions
  - Type information
  - Default values
  - Required vs optional indicators
  - Usage examples for each prop
- ‚úÖ Multiple usage examples covering:
  - Basic usage
  - Variants (if applicable)
  - Sizes (if applicable)
  - Controlled vs uncontrolled patterns
  - Advanced composition
  - Real-world use cases
- ‚úÖ Accessibility documentation:
  - Keyboard navigation patterns
  - ARIA attributes used
  - Screen reader considerations
  - Focus management behavior
- ‚úÖ Migration guide (if replacing existing component)
- ‚úÖ Troubleshooting/common issues section
- ‚úÖ Performance notes (if applicable)
- ‚úÖ Design system integration examples

**Documentation Quality Standards:**
- Code examples are copy-paste ready
- Examples demonstrate best practices
- Clear, concise descriptions
- Visual examples where helpful
- Links to related components

---

## Test Coverage Expectations

### Experimental

**Minimum Requirements:**
- ‚úÖ Basic rendering tests
- ‚úÖ Core functionality tests
- ‚úÖ Test file exists (`ComponentName.test.tsx`)

**Coverage Thresholds:**
- Statements: ‚â• 50%
- Lines: ‚â• 50%
- Branches: ‚â• 40%
- Functions: ‚â• 40%

**Test Types:**
- Basic rendering verification
- Primary user interactions (click, type, etc.)
- Core state changes

### Beta

**Minimum Requirements:**
- ‚úÖ All Experimental requirements
- ‚úÖ Comprehensive functional tests:
  - Controlled and uncontrolled behavior
  - All props and their effects
  - Edge cases and error states
  - State management
- ‚úÖ Accessibility tests:
  - Basic axe-core violations check
  - Keyboard navigation (where applicable)
  - ARIA attributes verification
- ‚úÖ Integration tests for sub-components

**Coverage Thresholds:**
- Statements: ‚â• 70%
- Lines: ‚â• 70%
- Branches: ‚â• 60%
- Functions: ‚â• 60%

**Test Types:**
- Functional behavior (all user interactions)
- Controlled vs uncontrolled patterns
- Prop variations
- Error handling
- Accessibility (basic a11y tests)
- Keyboard interactions (primary patterns)

### Production

**Minimum Requirements:**
- ‚úÖ All Beta requirements
- ‚úÖ Comprehensive test suite covering:
  - All user interaction patterns
  - All prop combinations
  - Edge cases and boundary conditions
  - Error states and error handling
  - Performance-critical paths
- ‚úÖ Complete accessibility test suite:
  - Full axe-core audit (WCAG 2.1 A/AA)
  - All keyboard navigation patterns
  - Focus management verification
  - Screen reader compatibility (where testable)
  - ARIA attributes and roles validation
- ‚úÖ SSR/hydration tests (if applicable)
- ‚úÖ E2E tests for complex interactions (Playwright)

**Coverage Thresholds:**
- Statements: ‚â• 80%
- Lines: ‚â• 80%
- Branches: ‚â• 80%
- Functions: ‚â• 80%

**Test Types:**
- **Functional Tests:**
  - All user interactions
  - All props and combinations
  - Controlled/uncontrolled patterns
  - State transitions
  - Edge cases
  - Error handling
  - Performance scenarios

- **Accessibility Tests:**
  - Complete axe-core audit
  - Keyboard navigation (all patterns)
  - Focus management (trapping, restoration)
  - ARIA compliance
  - Screen reader announcements (where applicable)

- **Integration Tests:**
  - Component composition
  - Sub-component interactions
  - Context providers (if used)

- **E2E Tests (for complex components):**
  - Multi-step user flows
  - Cross-browser compatibility
  - Real-world usage scenarios

**Test Quality Standards:**
- Tests are maintainable and readable
- Tests use semantic queries (prefer `getByRole`, `getByLabelText`)
- Tests follow AAA pattern (Arrange, Act, Assert)
- Tests are isolated and don't depend on each other
- Accessibility tests use `test-utils` helpers (`axe`, `keyboard`)

---

## Accessibility Requirements

### All Maturity Levels

**Minimum Standards:**
- ‚úÖ Proper semantic HTML
- ‚úÖ ARIA attributes where needed
- ‚úÖ Keyboard accessible
- ‚úÖ Focus visible
- ‚úÖ No axe-core critical violations

### Beta & Production

**Additional Requirements:**
- ‚úÖ WCAG 2.1 A/AA compliance
- ‚úÖ Complete keyboard navigation support
- ‚úÖ Proper focus management
- ‚úÖ Screen reader compatibility
- ‚úÖ Color contrast compliance (WCAG AA minimum)
- ‚úÖ Focus trapping for modals/dialogs
- ‚úÖ Focus restoration on close

### Production Only

**Additional Requirements:**
- ‚úÖ Tested with actual screen readers (documented)
- ‚úÖ Tested across multiple assistive technologies
- ‚úÖ Accessibility documentation complete
- ‚úÖ No known a11y issues

---

## Component-Specific Considerations

### Simple Components (e.g., Button, Badge, Text)
- Focus on rendering, props, and basic interactions
- Accessibility tests are straightforward
- Documentation can be concise but complete

### Complex Components (e.g., Dialog, Select, Tabs)
- Require comprehensive state management tests
- Complex keyboard navigation patterns
- Focus management is critical
- Multiple sub-components need documentation
- E2E tests recommended

### Composable Components (e.g., Tabs, Accordion)
- Test composition patterns
- Document all sub-components
- Test flexibility of composition
- Examples of advanced compositions

---

## Promotion Criteria

### Experimental ‚Üí Beta

**Requirements:**
- ‚úÖ Core functionality complete and stable
- ‚úÖ API is reasonably stable
- ‚úÖ Documentation meets Beta standards
- ‚úÖ Test coverage meets Beta thresholds
- ‚úÖ No critical bugs
- ‚úÖ Basic accessibility verified

**Process:**
- Component maintainer review
- Community feedback period (if applicable)
- Update component status in navigation/docs

### Beta ‚Üí Production

**Requirements:**
- ‚úÖ All features implemented
- ‚úÖ API is stable (no planned breaking changes)
- ‚úÖ Documentation meets Production standards
- ‚úÖ Test coverage meets Production thresholds
- ‚úÖ No known bugs or accessibility issues
- ‚úÖ Performance verified
- ‚úÖ Real-world usage validation (if applicable)

**Process:**
- Comprehensive review by maintainers
- Final accessibility audit
- Performance review
- Documentation review
- Update component status and remove beta warnings

---

## Maintenance Expectations

### Production Components

**Ongoing Requirements:**
- ‚úÖ Keep documentation up-to-date with API changes
- ‚úÖ Maintain test coverage above thresholds
- ‚úÖ Address accessibility issues promptly
- ‚úÖ Performance monitoring
- ‚úÖ Deprecation notices for breaking changes (minimum 1 major version)
- ‚úÖ Migration guides for breaking changes

---

## Checklist Template

Use this checklist when assessing or promoting a component:

### Component Readiness
- [ ] Core functionality complete
- [ ] TypeScript types complete
- [ ] Props API stable
- [ ] Error handling implemented
- [ ] SSR compatible
- [ ] Performance optimized
- [ ] No critical bugs

### Documentation
- [ ] Component page exists
- [ ] Description and examples
- [ ] Complete API documentation
- [ ] Component anatomy
- [ ] Multiple usage examples
- [ ] Accessibility documentation
- [ ] TypeScript examples

### Testing
- [ ] Test file exists
- [ ] Coverage meets threshold
- [ ] Functional tests complete
- [ ] Accessibility tests complete
- [ ] Keyboard navigation tested
- [ ] Edge cases covered
- [ ] E2E tests (if applicable)

### Accessibility
- [ ] WCAG 2.1 A/AA compliant
- [ ] Keyboard navigation complete
- [ ] Focus management correct
- [ ] ARIA attributes proper
- [ ] Screen reader tested
- [ ] No axe violations

---

## Notes

- This rubric is a living document and may evolve based on library needs
- Some components may have unique requirements not covered here
- When in doubt, err on the side of higher standards
- Production components should be examples of best practices for the library

